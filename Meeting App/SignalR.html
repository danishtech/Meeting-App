<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>SignalR Message</title>
</head>
<body>
    <div>
        <ul id="discussion"></ul>
    </div>
    <script src="Scripts/jquery-3.5.0.js"></script>
    <script src="Scripts/jquery.signalR-2.4.1.js"></script>
    <script src="/signalr/hubs"></script>
    <script type="text/javascript">

        $(function () {

            var chat = $.connection.requestlog;
            $.connection.hub.start().done(function () {

            });
            chat.client.postToClient = function (data) {
                $('#discussion').append('Message' + data + '<br />');
            };
            chat.client.postToClient = function (name, message) {
                // Add the message to the page. 
               $('#discussion').append('<li><strong>' + htmlEncode(name) 
                    + '</strong>: ' + htmlEncode(message) + '</li>');
            };
        });

        //$(function () {
        //    // Reference the auto-generated proxy for the hub.  
        //    var chat = $.connection.chatHub;
        //    // Create a function that the hub can call back to display messages.
        //    chat.client.postToClient = function (name, message) {
        //        // Add the message to the page. 
        //        $('#discussion').append('<li><strong>' + htmlEncode(name) 
        //            + '</strong>: ' + htmlEncode(message) + '</li>');
        //    };
        //    // Get the user name and store it to prepend to messages.
        //    $('#displayname').val(prompt('Enter your name:', ''));
        //    // Set initial focus to message input box.  
        //    $('#message').focus();
        //    // Start the connection.
        //    $.connection.hub.start().done(function () {
        //        $('#sendmessage').click(function () {
        //            // Call the Send method on the hub. 
        //            chat.server.send($('#displayname').val(), $('#message').val());
        //            // Clear text box and reset focus for next comment. 
        //            $('#message').val('').focus();
        //        });
        //    });
        //});
        //// This optional function html-encodes messages for display in the page.
        //function htmlEncode(value) {
        //    var encodedValue = $('<div />').text(value).html();
        //    return encodedValue;
       // }
    </script>
</body>
</html>  